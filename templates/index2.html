{% extends "base.html" %}

{% block head %}
<title>Jay Ambe Broadband Service</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" />
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script src="https://kit.fontawesome.com/a2d9d6d3b6.js" crossorigin="anonymous"></script>

<style>
  /* ðŸŒˆ Smooth Animated Gradient Background */
  .animated-bg {
    background: linear-gradient(-45deg, #0f172a, #111827, #1e293b, #0a0f1c);
    background-size: 400% 400%;
    animation: gradientShift 12s ease infinite;
  }

  @keyframes gradientShift {
    0% {
      background-position: 0% 50%;
    }

    50% {
      background-position: 100% 50%;
    }

    100% {
      background-position: 0% 50%;
    }
  }

  /* ðŸŒŸ Fade animations */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(25px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fade-up {
    animation: fadeInUp 1s ease-in-out;
  }
</style>
{% endblock %}

{% block content %}

<!-- ðŸŒŒ Hero Banner -->
<section id="home"
  class="animated-bg flex justify-center items-center mt-4 px-4 py-10 rounded-2xl shadow-2xl text-center text-white">
  <div class="fade-up">
    <img
      src="static/banner2.jpg"
      alt="Broadband Banner"
      class="w-full max-h-[420px] object-contain rounded-xl border-4 border-cyan-500/40 shadow-[0_0_25px_rgba(34,211,238,0.4)] hover:scale-[1.02] transition-transform duration-500"
    />
    <h1 class="text-3xl md:text-5xl font-serif font-extrabold mt-6 text-cyan-300">Welcome to Jay Ambe Broadband</h1>
    <p class="text-gray-300 mt-3 max-w-2xl mx-auto">
      Experience blazing-fast internet, zero installation cost, and same-day activation.
    </p>
  </div>
</section>

<!-- ðŸ“„ Documents Section -->
<section id="about" class="py-12 px-6 bg-slate-900/80 backdrop-blur-md text-gray-200">
  <h3 class="text-2xl font-bold mb-4 flex items-center gap-2 text-cyan-400">
    <i class="fa-solid fa-file"></i> Documents Required
  </h3>
  <ul class="space-y-3 text-lg">
    <li class="flex items-center"><i class="fa-solid fa-id-badge mr-3 text-cyan-400"></i>Photo ID Proof</li>
    <li class="flex items-center"><i class="fa-solid fa-location-dot mr-3 text-cyan-400"></i>Address Proof</li>
    <li class="flex items-center"><i class="fa-solid fa-camera mr-3 text-cyan-400"></i>Passport Size Photo</li>
  </ul>
</section>

<!-- â“ FAQ Section -->
<section id="faqs" class="py-12 px-6 bg-gradient-to-b from-slate-900 via-[#0f172a] to-black border-t-4 border-cyan-600">
  <h2 class="text-center text-3xl md:text-4xl font-bold mb-8 text-cyan-400">Frequently Asked Questions</h2>
  <div class="space-y-6 text-gray-300 max-w-3xl mx-auto fade-up">
    <div>
      <p class="font-semibold"><i class="fa-solid fa-arrow-right-long mr-2 text-cyan-400"></i>Best broadband plans for home?</p>
      <p class="ml-6 border-l-4 border-cyan-600 pl-3 text-gray-400">
        We offer affordable, high-speed broadband plans for every household.
      </p>
    </div>
    <div>
      <p class="font-semibold"><i class="fa-solid fa-arrow-right-long mr-2 text-cyan-400"></i>How to get a new connection?</p>
      <p class="ml-6 border-l-4 border-cyan-600 pl-3 text-gray-400">
        Visit our plans page or contact customer support â€” same-day installation guaranteed.
      </p>
    </div>
    <div>
      <p class="font-semibold"><i class="fa-solid fa-arrow-right-long mr-2 text-cyan-400"></i>Do you offer free installation?</p>
      <p class="ml-6 border-l-4 border-cyan-600 pl-3 text-gray-400">
        Yes, installation is completely free with all plans.
      </p>
    </div>
    <div>
      <p class="font-semibold"><i class="fa-solid fa-arrow-right-long mr-2 text-cyan-400"></i>Can renters apply?</p>
      <p class="ml-6 border-l-4 border-cyan-600 pl-3 text-gray-400">
        Absolutely! Flexible, no-contract options available for tenants.
      </p>
    </div>
  </div>
</section>

<!-- ðŸš€ Why Choose Us -->
<section id="choice" class="py-16 animated-bg">
  <h2 class="text-center text-4xl font-bold mb-12 text-cyan-300 flex items-center justify-center gap-3 fade-up">
    <i class="fa-solid fa-wifi text-cyan-400"></i> Why Choose Us?
  </h2>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 px-6 md:px-12 fade-up">
    {% for card in [
      {"icon":"fa-sliders","title":"No Installation Charges","desc":"Zero setup cost with instant activation."},
      {"icon":"fa-bolt","title":"SuperFast Internet","desc":"Enjoy high-speed uninterrupted connectivity."},
      {"icon":"fa-headset","title":"Same-Day Support","desc":"Local team ensures quick problem resolution."},
      {"icon":"fa-tags","title":"Affordable Plans","desc":"Premium broadband at budget-friendly prices."}
    ] %}
    <div
      class="bg-slate-800/70 border border-cyan-600 rounded-2xl shadow-lg p-6 text-center backdrop-blur-sm hover:scale-105 hover:shadow-[0_0_20px_rgba(34,211,238,0.4)] transition-all duration-300">
      <i class="fa-solid {{ card.icon }} text-4xl mb-4 text-cyan-400"></i>
      <h3 class="font-semibold text-lg text-white">{{ card.title }}</h3>
      <p class="text-gray-400 text-sm mt-2">{{ card.desc }}</p>
    </div>
    {% endfor %}
  </div>
  


</section>

<!-- ðŸ’¬ Feedback Section -->
<div class="min-h-screen bg-slate-900 text-white flex justify-center items-center px-6 py-10">
  <form method="POST" class="bg-slate-800/80 p-8 rounded-2xl shadow-xl w-full max-w-lg">
    <h2 class="text-3xl font-bold text-cyan-400 mb-6 text-center font-serif">Send Us Feedback</h2>
    
    <div class="mb-4">
      <label for="name" class="block text-sm mb-2">Your Name</label>
      <input type="text" id="name" name="name" required class="w-full p-2 rounded bg-slate-700 border border-cyan-500 focus:ring-2 focus:ring-cyan-400" />
    </div>

    <div class="mb-4">
      <label for="email" class="block text-sm mb-2">Email</label>
      <input type="email" id="email" name="email" required class="w-full p-2 rounded bg-slate-700 border border-cyan-500 focus:ring-2 focus:ring-cyan-400" />
    </div>

    <div class="mb-4">
      <label for="message" class="block text-sm mb-2">Message</label>
      <textarea id="message" name="message" rows="4" required class="w-full p-2 rounded bg-slate-700 border border-cyan-500 focus:ring-2 focus:ring-cyan-400"></textarea>
    </div>

    <button type="submit" class="w-full bg-cyan-500 hover:bg-cyan-400 text-black font-semibold py-2 rounded-lg transition">Send Feedback</button>
  </form>
</div>


<!-- âœ… Flash Messages -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="fixed bottom-6 right-6 z-50">
    {% for category, msg in messages %}
    <div class="flash-message bg-slate-800 border border-cyan-400 text-white px-4 py-2 rounded-lg shadow-lg mb-2 animate-bounce">
      {{ msg }}
    </div>
    {% endfor %}
  </div>
  {% endif %}
{% endwith %}
<!-- <select id="languageSelect"
  class="bg-gray-800 text-white p-2 rounded fixed bottom-6 left-6 z-50 border border-cyan-500 shadow-lg">
  <option value="en">English</option>
  <option value="hi">à¤¹à¤¿à¤‚à¤¦à¥€</option>
  <option value="mr">à¤®à¤°à¤¾à¤ à¥€</option>
</select> -->

<!-- ðŸ§  Translation Script -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const langSelect = document.getElementById("languageSelect");
  const storedLang = localStorage.getItem("siteLang") || "en";
  langSelect.value = storedLang;

  // âœ… Function: Translate a single text node
  async function translateTextNode(el, lang) {
    const original = el.textContent.trim();
    if (!original) return;

    if (!el.dataset.originalText) el.dataset.originalText = original;

    if (lang === "en") {
      el.textContent = el.dataset.originalText;
      return;
    }

    try {
      const res = await fetch("/translate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ text: original, lang })
      });
      const data = await res.json();
      if (data.translated_text && data.translated_text !== original) {
        el.textContent = data.translated_text;
      }
    } catch (e) {
      console.error("âŒ Translation error:", e);
    }
  }

  // ðŸŒ Function: Translate entire page
  async function translatePage(lang) {
    localStorage.setItem("siteLang", lang);

    const elements = document.querySelectorAll(
      "h1, h2, h3, h4, h5, h6, p, li, span, label, div, strong, em, small"
    );

    const loader = document.createElement("div");
    loader.innerText = "Translating...";
    Object.assign(loader.style, {
      position: "fixed",
      bottom: "20px",
      right: "20px",
      background: "rgba(0,0,0,0.8)",
      color: "white",
      padding: "8px 20px",
      borderRadius: "10px",
      zIndex: "9999",
      fontSize: "14px",
      fontFamily: "Poppins, sans-serif"
    });
    document.body.appendChild(loader);

    let count = 0;
    for (const el of elements) {
      const tag = el.tagName.toLowerCase();
      if (["a", "button", "input", "textarea", "select"].includes(tag)) continue;
      if (el.querySelector("i, svg, img")) continue;
      const style = window.getComputedStyle(el);
      if (style.display === "none") continue;

      await translateTextNode(el, lang);
      count++;
    }

    loader.innerText = `âœ… Translated ${count} elements`;
    setTimeout(() => loader.remove(), 2000);

    // âœ… Reinitialize animations & rebind navbar
    if (window.AOS) setTimeout(() => AOS.refresh(), 500);
    rebindInteractiveElements();

    // âœ… Re-enable Navbar links from base.html
    if (typeof triggerNavRebind === "function") {
      triggerNavRebind();
    }
  }

  // â™»ï¸ Rebind Navbar and Links
  function rebindInteractiveElements() {
    // âœ… Smooth scroll for anchor links (#contact)
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.onclick = (e) => {
        e.preventDefault();
        const target = document.querySelector(anchor.getAttribute("href"));
        if (target) target.scrollIntoView({ behavior: "smooth" });
      };
    });

    // âœ… Ensure route navigation still works (Home / Plans)
    document.querySelectorAll('a[href^="/"]').forEach(link => {
      link.onclick = () => {
        window.location.href = link.getAttribute("href");
      };
    });
  }

  // âœ… Language change listener
  langSelect.addEventListener("change", (e) => translatePage(e.target.value));

  // âœ… Auto-translate on reload
  if (storedLang !== "en") translatePage(storedLang);
});
</script>

<script src="static/scripts/script.js"></script>


{% endblock %}
